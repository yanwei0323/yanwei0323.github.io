<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>碰壁反弹2</title>
	<style>
	*{margin: 0;padding: 0;}
	#wrap{
		width: 500px;
		height: 400px;
		border:1px solid black;

		position:relative;
		margin:50px auto;
	}
	#ball{
		position:absolute;
		width: 50px;
		height: 50px;
		border-radius: 50%;
		background:red;
	}


	</style>
</head>
<body>
	<!-- 结构 -->
	<div id="wrap">
		<div id="ball"></div>
	</div>
	<!-- 行为 -->
	<script>
	//获取元素
	var wrap=document.getElementById('wrap');
	var ball=document.getElementById('ball');
	//获取小球的高度
	var bHeight=ball.offsetHeight;
	//offsetHeight:padding+border+width;
	//console.log(bHeight);
	//获取容器的真实高度
	var wHeight=wrap.clientHeight;
	//clientHeight:padding+width;
	//console.log(wHeight);
	//获取小球的宽度
	var bWidth=ball.offsetWidth;
	//获取容器的宽度
	var wWidth=wrap.clientWidth;
	//求出横向可移动的最大值
	var maxWidth=wWidth-bWidth;
	//求出纵向可移动的最大值
	var maxHeight=wHeight-bHeight;
	//console.log(maxHeight);


	//x和y方向上的变量
	var x=0;
	var y=0;
	//控制反弹的值
	var speedX=15;
	var speedY=15;
	//定时器
	setInterval(function(){
		//x轴的运动方向
		x=x+speedX;
		if(x>=maxWidth){
			x=maxWidth;
			speedX=speedX*-1;
		}else if(x<=0){
			x=0;
			speedX=speedX*-1;
		}
		ball.style.left=x+'px';
		//y轴的运动方向
		y=y+speedY;
		if(y>=maxHeight){
			//当y大于最大值350的时候,将y置为350;
			y=maxHeight;
			speedY=speedY*-1;
		}else if(y<=0){
			//当y小于最小值0的时候,将y置为0;
			y=0;
			speedY=speedY*-1;
		}
		ball.style.top=y+'px';
	},200);



	</script>
</body>
</html>